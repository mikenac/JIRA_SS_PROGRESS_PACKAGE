# Makefile Quick Reference

## Most Common Commands

### Development Workflow
```bash
# 1. Run tests (auto-installs dev dependencies)
make test

# 2. Check code quality (auto-installs dev dependencies)
make lint

# 3. Preview sync before running
make dry-run
```

**Note:** You don't need to run `make install-dev` manually anymore! The test and lint commands automatically ensure dev dependencies are installed.

### Running the Sync
```bash
# Preview mode (safe - no changes)
make dry-run

# Production mode (makes actual changes)
make run
```

### Testing
```bash
# Quick test run
make test

# Verbose output
make test-verbose

# Full coverage report
make test-coverage
```

### Code Quality
```bash
# Check for issues
make lint

# Auto-fix issues
make lint-fix
```

### Cleanup
```bash
# Remove caches and temp files
make clean

# Remove everything including venv
make clean-all
```

## All Available Commands

Run `make help` to see the full list with descriptions.

| Command | Description |
|---------|-------------|
| `make help` | Show all available commands |
| `make install` | Install package and dependencies |
| `make install-dev` | Install with dev dependencies |
| `make test` | Run all tests (auto-installs dev deps) |
| `make test-verbose` | Run tests with verbose output (auto-installs dev deps) |
| `make test-coverage` | Run tests with coverage report (auto-installs dev deps) |
| `make run` | Run sync (production mode) |
| `make dry-run` | Run sync (preview mode) |
| `make lint` | Run linter (auto-installs dev deps) |
| `make lint-fix` | Run linter and auto-fix (auto-installs dev deps) |
| `make clean` | Clean temporary files |
| `make clean-all` | Clean everything including venv |

## Safety Features

- **`make run`** includes a 3-second countdown before executing, giving you time to cancel with Ctrl+C
- **`make dry-run`** is always safe - it only previews changes without writing anything
- All commands show clear messages about what they're doing

## Tips

1. **You can just run `make test`** - No need to install dependencies first! The test, lint, and coverage commands automatically ensure dev dependencies are installed.
2. Always run `make dry-run` before `make run` to preview changes
3. Run `make test` after making code changes
4. Use `make lint-fix` to automatically fix code style issues
5. Run `make clean` if you encounter weird import or cache issues
